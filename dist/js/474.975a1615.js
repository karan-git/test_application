"use strict";(self["webpackChunktest_project"]=self["webpackChunktest_project"]||[]).push([[474],{3376:function(e,t,s){s.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("#")]),e._l(e.dataKeys,(function(s,r){return t("th",{key:r,staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v(" "+e._s(s)+" ")])})),"users"==e.listOf?t("th",{attrs:{scope:"col"}}):e._e()],2)]),"users"==e.listOf?t("tbody",[e.dataValues&&0==e.dataValues.length?t("tr",[t("td",{staticClass:"text-center text-muted",attrs:{colspan:"7"}},[e._v("No User found")])]):e._l(e.dataValues,(function(s,r){return t("tr",{key:r},[t("th",{attrs:{scope:"row"}},[e._v(e._s(r+1))]),t("td",[e._v(e._s(s.first_name))]),t("td",[e._v(e._s(s.last_name))]),t("td",[e._v(e._s(s.login_id))]),t("td",[e._v(e._s(s.role))]),t("td",[e._v(" "+e._s(s.skills?s.skills.map((e=>e.skill_name)).join(", "):"-")+" ")]),t("td",[t("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.handleDeleteUser(s.id)}}},[e._v(" Delete ")])])])}))],2):e._e(),"skills"==e.listOf?t("tbody",[e.dataValues&&0==e.dataValues.length?t("tr",[t("td",{staticClass:"text-center text-muted",attrs:{colspan:"7"}},[e._v("No Skill found")])]):e._l(e.dataValues,(function(s,r){return t("tr",{key:r},[t("th",{attrs:{scope:"row"}},[e._v(e._s(r+1))]),t("td",[e._v(e._s(s.name))]),t("td",[e._v(e._s(s.description||"-"))])])}))],2):e._e()])},a=[],o={props:["dataKeys","dataValues","listOf"],methods:{handleDeleteUser(e){this.$emit("deleteUser",e)}}},l=o,i=s(1001),n=(0,i.Z)(l,r,a,!1,null,"476c2220",null),d=n.exports},7406:function(e,t,s){s.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e._self._c;return e.isLoading?t("div",{staticClass:"cntntLoad"},[t("img",{attrs:{width:"40",height:"40",src:s(1298)}})]):e._e()},a=[],o={props:["isLoading"]},l=o,i=s(1001),n=(0,i.Z)(l,r,a,!1,null,null,null),d=n.exports},7474:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-4"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-4 border-top shadow pl-3 pr-3 mb-4"},[t("h4",{staticClass:"pt-3"},[e._v("Create User")]),t("form",[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlInput1"}},[e._v("First name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"First name"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),e.errors&&e.errors.firstName?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.firstName))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlInput1"}},[e._v("Last name")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Last name"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}}),e.errors&&e.errors.lastName?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.lastName))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlInput1"}},[e._v("Phone")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e.errors&&e.errors.phone?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.phone))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlInput1"}},[e._v("Login Id")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.loginId,expression:"loginId"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Unique login id"},domProps:{value:e.loginId},on:{input:function(t){t.target.composing||(e.loginId=t.target.value)}}}),e.errors&&e.errors.loginId?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.loginId))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlInput1"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e.errors&&e.errors.password?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.password))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlSelect1"}},[e._v("Role")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Role")]),t("option",{attrs:{value:"caller"}},[e._v("Caller")]),t("option",{attrs:{value:"administrative"}},[e._v("Administrative")])]),e.errors&&e.errors.role?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.role))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlSelect2"}},[e._v("Timezone")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.timezone,expression:"timezone"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.timezone=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Timezone")]),e._l(e.timezones,(function(s,r){return t("option",{key:r,domProps:{value:s}},[e._v(" "+e._s(s)+" ")])}))],2),e.errors&&e.errors.timezone?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.timezone))]):e._e()]),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"exampleFormControlSelect2"}},[e._v("Skills (For select multiple press CTRL + CLICK)")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSkills,expression:"selectedSkills"}],staticClass:"form-control",attrs:{multiple:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedSkills=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Skills")]),e._l(e.skills,(function(s,r){return t("option",{key:r,domProps:{value:s.id}},[e._v(" "+e._s(s.name)+" ")])}))],2),e.errors&&e.errors.selectedSkills?t("span",{staticClass:"error text-danger"},[e._v(e._s(e.errors.selectedSkills))]):e._e()])]),t("button",{staticClass:"btn btn-primary mt-2",on:{click:e.handleCreate}},[e._v(" Create ")])]),t("div",{staticClass:"col-8 border-left border-top shadow pl-3 ml-auto table-responsive"},[t("h4",{staticClass:"pt-3 pb-3"},[e._v("Users")]),t("list-component",{attrs:{dataKeys:e.dataKeys,dataValues:e.filteredUsers,listOf:"users"},on:{deleteUser:e.handleDeleteUser}})],1)]),t("loader-component",{attrs:{isLoading:e.isLoading}})],1)},a=[],o=s(7406),l=s(3822),i=s(2303),n=s(3376),d={components:{LoaderComponent:o.Z,ListComponent:n.Z},name:"HomeView",computed:{...(0,l.rn)(["timezones","apiSuccess","users","skills"]),filteredUsers(){return this.users&&this.users.length>0?this.users.filter((e=>e.is_active)):this.users}},data(){return{isLoading:!1,firstName:"",lastName:"",loginId:"",password:"",phone:"",role:"",timezone:"",dataKeys:["First name","Last name","Login id","Role","Skills"],selectedSkills:[],errors:null}},methods:{validateFields(){const e={};return(0,i.Gu)(this.firstName,i.ym)||(e.firstName="Please enter first name"),(0,i.Gu)(this.lastName,i.ym)||(e.lastName="Please enter last name"),(0,i.Gu)(this.phone,i.uA)||(e.phone="Please enter a valid phone number"),(0,i.Gu)(this.loginId,i.CU)||(e.loginId="Please enter a valid email id"),""==this.password&&(e.password="Please enter password"),""==this.role&&(e.role="Please select role"),""==this.timezone&&(e.timezone="Please select timezone"),0==this.selectedSkills.length&&(e.selectedSkills="Please select skills"),e},async handleCreate(){if(this.errors=this.validateFields(),Object.keys(this.errors).length>0)this.$toast.error("Please complete all the fields.",{type:"error",position:"top-right",duration:2e3});else{let e={first_name:this.firstName,last_name:this.lastName,login_id:this.loginId,password:this.password,role:this.role,timezone:this.timezone,user_skills:this.selectedSkills,location:"Default",phone:this.phone};console.log(e),this.isLoading=!0,await this.$store.dispatch("createUser",e),this.isLoading=!1,this.apiSuccess&&(this.$toast.success("User Created Successfully!"),this.firstName="",this.lastName="",this.loginId="",this.password="",this.role="",this.timezone="",this.selectedSkills=[],this.phone="",this.isLoading=!0,await this.$store.dispatch("fetchUsers"),this.isLoading=!1)}},async handleDeleteUser(e){this.isLoading=!0,await this.$store.dispatch("deleteUserById",e),this.isLoading=!1,this.apiSuccess&&(this.$toast.success("Successfully Deleted!"),setTimeout((async()=>{this.isLoading=!0,await this.$store.dispatch("fetchUsers"),this.isLoading=!1}),1500))}},async mounted(){this.isLoading=!0,await this.$store.dispatch("fetchTimeZone"),await this.$store.dispatch("fetchUsers"),this.isLoading=!1,await this.$store.dispatch("fetchSkills")}},c=d,u=s(1001),p=(0,u.Z)(c,r,a,!1,null,"1cdeada0",null),m=p.exports},2303:function(e,t,s){s.d(t,{CU:function(){return o},Gu:function(){return l},uA:function(){return r},ym:function(){return a}});const r=/^[6-9]\d{9}$|^[6-9]\d{9}$/g,a=/^[a-zA-Z ]*$/g,o=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,l=(e,t)=>!!e&&new RegExp(t).test(e)},1298:function(e,t,s){e.exports=s.p+"img/loader.87bd8715.gif"}}]);
//# sourceMappingURL=474.975a1615.js.map